@import "tailwindcss";

/* ============================================================
   Project Gatekeeper — Global Styles
   ============================================================ */

@theme inline {
  --color-electric-blue: #4FC3F7;
  --color-deep-blue: #0288D1;
  --color-vivid-purple: #7C4DFF;
  --color-deep-purple: #4A148C;
  --color-gold-accent: #FFD54F;
  --color-void: #000000;
  --color-dim-white: #8A8A8A;

  --font-sans: var(--font-space-grotesk), system-ui, sans-serif;
  --font-mono: var(--font-jetbrains-mono), ui-monospace, monospace;
}

/* ── Base ────────────────────────────────────────────────────── */
html,
body {
  margin: 0;
  padding: 0;
  background: #000000;
  color: #ffffff;
  font-family: var(--font-sans);
  overflow: hidden;
  /* Use dynamic viewport height for iOS Safari address bar */
  height: 100dvh;
  width: 100vw;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior: none;
}

/* ── Fullscreen container ────────────────────────────────────── */
.gatekeeper-root {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100dvh;
  overflow: hidden;
  /* Prevent long-press context menu from breaking immersion */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* Re-enable selection on form inputs so users can edit their text */
.gatekeeper-root input,
.gatekeeper-root textarea {
  -webkit-user-select: text;
  user-select: text;
}

/* ── Text glow utility ───────────────────────────────────────── */
.text-glow {
  text-shadow:
    0 0 7px rgba(79, 195, 247, 0.7),
    0 0 20px rgba(79, 195, 247, 0.4),
    0 0 40px rgba(79, 195, 247, 0.15),
    0 0 80px rgba(79, 195, 247, 0.05);
}

.text-glow-purple {
  text-shadow:
    0 0 7px rgba(124, 77, 255, 0.7),
    0 0 20px rgba(124, 77, 255, 0.4),
    0 0 40px rgba(124, 77, 255, 0.15);
}

.text-glow-gold {
  text-shadow:
    0 0 7px rgba(255, 213, 79, 0.7),
    0 0 20px rgba(255, 213, 79, 0.4),
    0 0 40px rgba(255, 213, 79, 0.15);
}

/* ── Frosted glass utility ───────────────────────────────────── */
.glass {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ── Loading pulse ───────────────────────────────────────────── */
@keyframes pulse-dot {
  0%, 100% { opacity: 0.2; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1.2); }
}

.loading-pulse {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #4FC3F7;
  animation: pulse-dot 1.4s ease-in-out infinite;
}

/* ── Breathing ring (voice phase) ────────────────────────────── */
@keyframes breathe-ring {
  0%, 100% { transform: scale(1); opacity: 0.3; }
  50% { transform: scale(1.15); opacity: 0.7; }
}

.breathe-ring {
  animation: breathe-ring 3s ease-in-out infinite;
}

/* ── Safe area insets for iOS (viewport-fit: cover) ──────────── */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .safe-insets {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* ── iOS keyboard push prevention ────────────────────────────── */
/* When the virtual keyboard opens, prevent the fixed layout from
   being pushed up. The visual viewport API handles this, but we
   also ensure inputs scroll into view smoothly. */
@supports (height: 100dvh) {
  .gatekeeper-root {
    height: 100dvh;
  }
}

input, textarea {
  /* Prevent iOS from zooming in on input focus (font-size >= 16px) */
  font-size: max(16px, 1em);
}

/* ── Selection ───────────────────────────────────────────────── */
::selection {
  background: rgba(79, 195, 247, 0.3);
  color: #ffffff;
}

/* ── Scrollbar (for any scrollable element) ──────────────────── */
::-webkit-scrollbar {
  width: 0;
  background: transparent;
}

/* ── Input autofill override (black backgrounds) ─────────────── */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus {
  -webkit-text-fill-color: rgba(255, 255, 255, 0.9);
  -webkit-box-shadow: 0 0 0 100px #000000 inset;
  transition: background-color 5000s ease-in-out 0s;
}
